{"version":3,"sources":["common.js"],"names":["$","hover","css","on","createFullVideo","this","next","slideToggle","parent","siblings","children","removeClass","campus","text","chosenId","attr","click","e","preventDefault","find","val","mobile","name","age","captcha","alert","id","ajax","url","type","data","school_id","code","message","error","success","log","animate","scrollTop","isPhone","getCode","checkPhone","console","focus","test","phone","pattern","hide","html","show","background","color","borderColor","second","timer","setInterval","clearInterval"],"mappings":"aAAAA,EAAE,WAAAA,EAAA,cAAWC,MAAA,WACXD,EAAA,UAAAE,IAAA,UAAA,WAEEF,EAAAA,cAAYE,GAAI,WAAW,WAD7BF,EAAA,UAAAE,IAAA,UAAA,UAIEF,EAAAA,cAAYE,MAAI,WADlBF,EAAA,UAAAE,IAAA,UAAA,WAIEF,EAAAA,cAAYE,GAAI,WAAW,WAD7BF,EAAA,UAAAE,IAAA,UAAA,UAKCF,EAFD,kBAGAG,GAAA,QAAA,WAEEC,gBAAgB,wDADhBJ,EAAA,cAADE,IAAD,UAAgC,UAE9BF,EAAAA,iBAAgBE,GAAI,QAApB,WAFFE,gBAAA,0DAIEJ,EAAA,cAAFE,IAAsB,UAAS,UAG9BF,EAHD,gBAIAG,GAAA,QAAA,WAEEC,gBAAgB,yDADhBJ,EAAA,cAAgBG,IAAG,UAAS,UAE5BH,EAAAA,oBAAoBG,GAAA,QAAW,WAFjCC,gBAAA,6DAIEJ,EAAA,cAAAE,IAAoBC,UAAtB,UAGCH,EAHD,WAIAC,MAAA,WAEED,EAAE,QAAQE,IAAI,UAAW,WAAzBF,EAAAA,WAAUE,GAAI,WAAW,WAD3BF,EAAA,QAAAE,IAAA,UAAA,UAKCF,EAFD,kBAGAC,MAAA,WAEED,EAAE,kBAAkBE,IAAI,UAAW,WAAnCF,EAAAA,kBAACG,GAAmBD,WAApB,WADFF,EAAA,kBAAAE,IAAA,UAAA,UAIEF,EAAAA,mBAAAC,MAAwB,WAD1BD,EAAA,mBAAAE,IAAA,UAAA,WAIEF,EAAAA,mBAACG,GAAoBD,WAArB,WADFF,EAAA,mBAAAE,IAAA,UAAA,UAaAF,EAAA,cAAAG,GAAA,QAAA,QAAA,WAEEH,EAAEK,MAAMC,OAAOC,cADfP,EAAAK,MAAAG,SAAiBC,WAAQC,SAAQ,SAAAJ,OAAUC,cAC3CP,EAAEK,MAAMC,SAAOC,WAAfG,SAAA,SAAAC,YAAA,QACAX,EAAEK,MAAMG,YAASC,UAGlBT,EALD,gBAMAG,GAAA,QAAA,WAEE,IAAMS,EAASZ,EAAEK,MAAMQ,OADvBb,EAAA,gBAAFa,KAAqBD,GACnBZ,EAAA,SAAYW,YAAWE,QACvBb,EAAE,YAAAE,IAAgBW,UAAlB,QACAb,IAAEc,EAASH,EAAAA,MAAYI,KAAvB,SACAf,EAAE,cAAYE,KAAI,QAAWY,KAG9Bd,EAPD,WAQAgB,MAAA,SAAAC,GAEEA,EAAEC,iBADF,IAAAV,EAAWQ,EAAbX,MAAmBG,SACfU,EAAAA,EAAFC,KAAA,iBAAAC,MACIZ,EAAMA,EAAMW,KAAMX,eAAtBY,MACIC,EAAMb,EAAGA,KAAOW,cAAKC,MACrBE,EAAOd,EAAOW,KAAK,kBAAvBC,MACIG,EAAGvB,EAAGQ,cAAYO,KAAA,SAClBS,EAGFC,EAGCJ,EAQCG,EADHE,EAGC1B,EAAA2B,KAAA,CACDC,IAAA,gBAOCC,KAAM,OANRC,KAAA,CACEL,OAAMJ,EACNC,KAAAA,EACDC,IAAAA,EAQGQ,UAAWL,EAPbC,QAAKH,GAELK,QAAM,SAFDC,GAGC,GAAAA,EAAAE,KACJX,MAAQA,cAERE,MAHIO,EAAAG,SAAA,SAAAC,MAHD,SAAAjB,GAULkB,QAASC,IAAAnB,GACPQ,MAAIK,WAdNL,MAAM,SATRA,MAAIJ,UAHFI,MAAM,UAHNA,MAAA,SAHFA,MAAM,WAqCHzB,EAAA,gBAhBIG,GAAA,QAAA,WAiBL+B,EAAAA,eAAOG,QAAA,CAAAC,UAAa,GAAA,YAKvB,IAlDDC,QAmDA,EAQF,SAASC,QAAQvB,GANbjB,GADFA,aACGuC,QAAC,CAAuB,IAAelB,EAAxCrB,EAAA,iBAAAoB,MADFpB,EAAA2B,KAAA,CAhIFC,IAAA,mBAqIAC,KAAA,OAUMC,KAAM,CATRS,OAAJlB,GACAc,QAASK,SAAUV,GACjBW,QAAcL,IAAAN,EAAAE,MAYRU,QAAQN,IAAIN,EAAKG,SAXZ,GAARM,EAAQP,MACTP,MAAA,WACIJ,aAECI,MAAEK,EAAAG,SADA,SAIHZ,MAAAA,SAAQA,GAJLI,MAAA,gBAqBPzB,EAAE,iBAAiB2C,QATd,SAHDF,aAIEhB,IAAAA,EAAAA,EAAMK,iBAAgBV,MAG1Bc,OADCK,QAfI,EAgBE,IAAPL,GACIT,MAAAA,gBACHc,QAAA,IAJE,iCAOHK,KAAAC,QAAF7C,GACDyB,MAAA,mBAEHc,QAAA,IAGE,SAAIO,YACJP,EAAAA,gBAAAQ,OAeA/C,EAAE,iBAAiBgD,KAAK,MAdxBhD,EAAA,kBAAgBiD,OACdxB,EAAAA,kBAAAV,KAAA,YAAA,GACAwB,EAAAA,kBAAArC,IAAA,CAAAgD,WAAA,UAAAC,MAAA,UAAAC,YAAA,YACA,IAAAC,EAAA,GACDC,EAAA,KAgBDA,EAAQC,YAAY,WAdZ,GADRF,GAAW,GAETd,EAAAA,iBAAAS,KAAAK,IAEDG,cAAAF,GAEHtD,EAAA,gBAAAiD,OAgBMjD,EAAE,kBAAkB+C,SAf1B","file":"../common.js","sourcesContent":["$(function() {\n  //footer直营校区\n  $('#campus-bj').hover(function () {\n    $('.cl-bj').css('display', 'block')\n  })\n  $('#campus-bj').on('mouseout', function () {\n    $('.cl-bj').css('display', 'none')\n  })\n  $('#campus-sh').hover(function () {\n    $('.cl-sh').css('display', 'block')\n  })\n  $('#campus-sh').on('mouseout', function () {\n    $('.cl-sh').css('display', 'none')\n  })\n  //名人推荐视频\n  $('#play-langlang').on('click', function () {\n    createFullVideo('http://static.1tai.com/theone/index-about-v3.mp4?v=2')\n    $('.fixed-bar').css('display', 'none');\n  })\n  $('#play-likaifu').on('click', function () {\n    createFullVideo('http://static.1tai.com/videos/music_center/likaifu.mp4')\n    $('.fixed-bar').css('display', 'none');\n  })\n  //成人课程视频\n  $('#play-xiaoli').on('click', function () {\n    createFullVideo('http://static.1tai.com/videos/music_center/xiaoli.mp4')\n    $('.fixed-bar').css('display', 'none');\n  })\n  $('#play-danxiaojie').on('click', function () {\n    createFullVideo('http://static.1tai.com/videos/music_center/danxiaojie.mp4')\n    $('.fixed-bar').css('display', 'none');\n  })\n  //header微信二维码\n  $('.wechat').hover(function () {\n    $('.pop').css('display', 'block')\n  })\n  $('.wechat').on('mouseout', function () {\n    $('.pop').css('display', 'none')\n  })\n  //footer 微信二维码\n  $('#wechat-public').hover(function(){\n    $('.ft-pop-public').css('display', 'block')\n  })\n  $('#wechat-public').on('mouseout', function () {\n    $('.ft-pop-public').css('display', 'none')\n  })\n  $('#wechat-service').hover(function(){\n    $('.ft-pop-service').css('display', 'block')\n  })\n  $('#wechat-service').on('mouseout', function () {\n    $('.ft-pop-service').css('display', 'none')\n  })\n  // //电话咨询and 在线咨询\n  // $('.tel-helper').hover(function(){\n  //   $('.tel-tip').css('display', 'block')\n  // })\n  // $('.tel-helper').on('mouseout', function () {\n  //   $('.tel-tip').css('display', 'none')\n  // })\n  // 手风琴菜单\n  $('#accordion').on('click','.link',function(){\n    $(this).next().slideToggle();\n    $(this).parent().siblings().children('.open').next().slideToggle();\n    $(this).parent().siblings().children('.link').removeClass('open')\n    $(this).toggleClass('open')\n  })\n  //领取框点击选择校区\n  $('.campus-item').on('click',function(){\n    const campus = $(this).text()\n    $('.link > span').text(campus)\n    $('.link').removeClass('open')\n    $('.submenu').css('display', 'none')\n    const chosenId = $(this).attr('value')\n    $('#accordion').attr('value', chosenId)\n  })\n  //注册领取\n  $('#submit').click(function(e){\n    e.preventDefault()\n    var parent  = $(this).parent();\n    var mobile = parent.find('#adult-mobile').val()\n    var name = parent.find('#adult-name').val()\n    var age = parent.find('#adult-age').val()\n    var captcha = parent.find('#adult-captcha').val()\n    var id = $('#accordion').attr('value')\n    if(!name){\n      alert('请输入姓名')\n      return\n    }\n    if(!age){\n      alert('请输入年龄')\n      return\n    }\n    if(!mobile) {\n      alert('请输入手机号')\n      return\n    }\n    if(!captcha) {\n      alert('请输入验证码')\n      return\n    }\n    if(!id) {\n      alert('请选择校区')\n      return\n    }\n    $.ajax({\n      url: '/api/user/add',\n      type: 'post',\n      data: {\n        mobile: mobile,\n        name: name,\n        age: age,\n        school_id: id,\n        captcha: captcha\n      },\n      success: function (data) {\n        if (data.code == 0) {\n          alert('您已注册成功，谢谢！')\n        } else {\n          alert(data.message || '注册失败')\n        }\n      },\n      error: function (e) {\n        console.log(e)\n        alert('注册失败')\n      }\n    })\n  })\n  //回到顶部\n  $('.back-to-top').on('click', function() {\n    $('html , body').animate({scrollTop: 0},'slow')\n  })\n})\n\n/*获取验证码*/\nvar isPhone = 1;\nfunction getCode(e){\n  checkPhone(); //验证手机号码\n  if(isPhone){\n    //倒计时\n    var mobile = $('#adult-mobile').val();\n    $.ajax({\n      url: '/api/sendCaptcha',\n      type: 'post',\n      data: {\n        mobile: mobile,\n      },\n      success: function (data) {\n        console.log(data.code)\n        console.log(data.message)\n        if (data.code == 0) {\n          alert('获取验证码成功')\n          resetCode();\n        } else {\n          alert(data.message || '获取失败')\n        }\n      },\n      error: function (data) {\n          alert('获取失败')\n      }\n    })\n  }else{\n    $('#adult-mobile').focus();\n  }\n}\n//验证手机号码\nfunction checkPhone(){\n  var phone = $('#adult-mobile').val();\n  var pattern = /^(13|14|15|16|17|18|19)\\d{9}$/g;\n  isPhone = 1;\n  if(phone == '') {\n    alert('请输入手机号码');\n    isPhone = 0;\n    return;\n  }\n  if(!pattern.test(phone)){\n    alert('请输入正确的手机号码');\n    isPhone = 0;\n    return;\n  }\n}\n//倒计时\nfunction resetCode(){\n  $('#get-captcha').hide();\n  $('#time-captcha').html('60');\n  $('#reset-captcha').show();\n  $('#reset-captcha').attr('disabled',true);\n  $('#reset-captcha').css({'background': '#f2f2f2', 'color': '#b4b5b5', 'borderColor': '#f2f2f2'});\n  var second = 60;\n  var timer = null;\n  timer = setInterval(function(){\n    second -= 1;\n    if (second >0) {\n      $('#time-captcha').html(second);\n    } else {\n      clearInterval(timer);\n      $('#get-captcha').show();\n      $('#reset-captcha').hide();\n    }\n  },1000);\n}"]}